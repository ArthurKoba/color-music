#include <iostream>

#include <inttypes.h>

#include "cmath"
#include "cstdlib"

#include "FastFFT.h"
#include "utils.h"

int main()
{
    FFTConfig fftConfig;
    initConfig(fftConfig, 256);

    int16_t samples[] = {512,654,465,549,730,550,563,765,603,541,745,614,483,676,590,404,575,547,328,472,511,283,392,500,286,356,525,342,364,580,437,407,645,548,460,695,646,501,708,706,511,673,715,488,591,679,441,484,616,392,378,550,365,301,505,378,273,495,437,298,518,530,363,559,634,447,595,720,521,604,764,565,573,754,570,504,694,543,413,602,503,326,506,474,271,433,475,265,400,513,313,408,581,403,445,659,511,489,720,606,517,740,666,513,709,679,475,630,650,416,522,597,357,414,544,325,333,514,337,299,517,397,316,552,494,371,600,604,442,640,697,503,648,749,534,612,748,530,535,698,497,435,618,456,338,533,431,273,469,440,258,443,489,297,454,569,378,490,659,478,528,730,567,546,760,623,529,736,636,477,663,611,404,559,565,334,453,524,294,373,508,300,336,526,358,346,574,455,392,633,567,451,679,664,498,690,722,516,653,729,498,573,689,457,467,620,411,363,548,386,289,496,399,265,480,455,294,498,545,365,537,645,454,573,727,533,584,766,582,556,752,590,492,687,565,407,591,525,325,491,493,275,414,488,273,379,521,325,386,582,419,426,654,528,474,710};
    int16_t amplitudes[fftConfig.samplesLength];

//    showConfig(fftConfig);

    FastFFT(fftConfig, samples, amplitudes);

    cout << amplitudes[0] << ", ";
    for (uint16_t i = 1; i < fftConfig.samplesLength >> 1; i++) {
        cout << amplitudes[i] << ", ";
    }
}
